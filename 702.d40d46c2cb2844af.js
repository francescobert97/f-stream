"use strict";(self.webpackChunkstream=self.webpackChunkstream||[]).push([[702],{8702:(Q,h,r)=>{r.r(h),r.d(h,{HomeModule:()=>A});var l=r(177),m=r(9632),C=r(5227),t=r(4438),u=r(7699),d=r(7668),v=r(4916),b=r(98);function y(e,a){if(1&e){const n=t.RV6();t.j41(0,"div",4),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.openPlayer())})("mouseout",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.showDet=!1)}),t.j41(1,"h3"),t.EFF(2),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s(),t.j41(5,"div")(6,"span",5),t.EFF(7),t.k0s(),t.j41(8,"span",5),t.EFF(9),t.k0s()()()}if(2&e){const n=t.XpG();t.R7$(2),t.JRh(n.movie.titolo),t.R7$(2),t.JRh(n.movie.descrizione),t.R7$(3),t.SpI("Uscita: ",n.movie.anno,""),t.R7$(2),t.SpI("Durata: ",n.movie.durata,"")}}let f=(()=>{class e{constructor(n){this.router=n,this.movie=v.Y,this.showDet=!1}ngOnInit(){}openPlayer(){const{id:n,genere:o}=this.movie;(0,b.Nq)("currentMovieWatched",this.movie),this.router.navigate(["/player"],{queryParams:{id:n,genere:o}})}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(m.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-title-card"]],inputs:{movie:"movie"},decls:4,vars:2,consts:[["id","card-film-container",1,"d-flex"],[1,"card-film","text-light","bg-light",3,"mouseover"],[3,"src"],["class","absolute-information d-flex flex-column align-items-center",3,"click","mouseout",4,"ngIf"],[1,"absolute-information","d-flex","flex-column","align-items-center",3,"click","mouseout"],[1,"mx-2"]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"div",1),t.bIt("mouseover",function(){return i.showDet=!0}),t.nrm(2,"img",2),t.DNE(3,y,10,4,"div",3),t.k0s()()),2&o&&(t.R7$(2),t.FS9("src",i.movie.urlCopertina,t.B4B),t.R7$(),t.Y8G("ngIf",i.showDet))},dependencies:[l.bT],styles:["#card-film-container[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden}#card-film-container[_ngcontent-%COMP%]   .card-film[_ngcontent-%COMP%]{position:relative;margin:0 .8rem;border-radius:5px;font-size:0;transition:1s;box-shadow:0 10px 13px -7px #000,0 0 25px -2px #00000078;cursor:pointer}#card-film-container[_ngcontent-%COMP%]   .card-film[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:0}#card-film-container[_ngcontent-%COMP%]   .card-film[_ngcontent-%COMP%]:hover{font-size:1em}#card-film-container[_ngcontent-%COMP%]   .card-film[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%]{font-size:2em}#card-film-container[_ngcontent-%COMP%]   .card-film[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:355px;border-radius:5px}#card-film-container[_ngcontent-%COMP%]   .card-film[_ngcontent-%COMP%]   .absolute-information[_ngcontent-%COMP%]{padding:3rem;width:100%;position:absolute;bottom:0}"]})}}return e})();const x=()=>({label:"Torna ai titoli",classes:"",link:"/home/comedy"});function O(e,a){if(1&e&&(t.qex(0),t.nrm(1,"app-title-card",5),t.bVm()),2&e){const n=a.$implicit;t.R7$(),t.Y8G("movie",n)}}function M(e,a){if(1&e&&(t.j41(0,"div"),t.DNE(1,O,2,1,"ng-container",4),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.titlesSearch)}}function F(e,a){1&e&&t.EFF(0,"\n> > ")}function P(e,a){1&e&&(t.j41(0,"p"),t.EFF(1,"Il titolo che stai cercando non \xe8 disponibile."),t.k0s(),t.DNE(2,F,1,0,"ng-template"))}let T=(()=>{class e{constructor(n){this.titlesStream=n,this.titlesSearch=[]}ngOnInit(){this.titlesStream.searchBar$.subscribe(n=>this.titlesSearch=n)}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(u.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-results"]],decls:5,vars:4,consts:[["noResults",""],["id","results",1,"w-100","d-flex","flex-column","align-items-center","p-5"],[4,"ngIf","ngIfElse"],[3,"customDataButton"],[4,"ngFor","ngForOf"],[3,"movie"]],template:function(o,i){if(1&o&&(t.j41(0,"div",1),t.DNE(1,M,2,1,"div",2),t.nrm(2,"app-custom-button",3),t.k0s(),t.DNE(3,P,3,0,"ng-template",null,0,t.C5r)),2&o){const s=t.sdS(4);t.R7$(),t.Y8G("ngIf",i.titlesSearch.length>0)("ngIfElse",s),t.R7$(),t.Y8G("customDataButton",t.lJ4(3,x))}},dependencies:[l.Sq,l.bT,d.z,f]})}}return e})();var _=r(3166);const w=()=>({label:"Select category>",classes:"p-3",link:""}),S=()=>({operation:"let",conditionMode:"reverse",classes:"gradient-bg",width:800}),R=(e,a)=>({label:e,classes:"p-3 categories-btn w-100 overflow-hidden",link:a});function D(e,a){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"app-custom-button",1),t.bIt("callFnFromOutside",function(){t.eBV(n);const i=t.XpG(2);return t.Njj(i.showList=!i.showList)}),t.k0s(),t.bVm()}if(2&e){const n=a.$implicit;t.R7$(),t.Y8G("customDataButton",t.l_i(1,R,n.label,n.path))}}function j(e,a){if(1&e&&(t.j41(0,"div",3),t.DNE(1,D,2,4,"ng-container",4),t.k0s()),2&e){const n=t.XpG();t.HbH(n.showList?"visible-list":"hidden-list"),t.R7$(),t.Y8G("ngForOf",n.categories)}}let $=(()=>{class e{constructor(){this.showList=!1,this.categories=[{path:"/home/comedy",label:"Comedy"},{path:"/home/dramatic",label:"Dramatic"},{path:"/home/horror",label:"Horror"},{path:"/home/action",label:"Action"},{path:"/home/sentimental",label:"Sentimental"},{path:"/home/thriller",label:"Thriller"},{path:"/home/animation",label:"Animation"},{path:"/home/popular",label:"Popular"}]}ngOnInit(){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-nav-category"]],decls:3,vars:4,consts:[["id","nav-category",1,"m-1"],[3,"callFnFromOutside","customDataButton"],["class","category-list rounded p-1",3,"class",4,"appResize"],[1,"category-list","rounded","p-1"],[4,"ngFor","ngForOf"]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"app-custom-button",1),t.bIt("callFnFromOutside",function(){return i.showList=!i.showList}),t.k0s(),t.DNE(2,j,2,3,"div",2),t.k0s()),2&o&&(t.R7$(),t.Y8G("customDataButton",t.lJ4(2,w)),t.R7$(),t.Y8G("appResize",t.lJ4(3,S)))},dependencies:[l.Sq,d.z,_.c],styles:["#nav-category[_ngcontent-%COMP%]{letter-spacing:2px;padding:1.5rem}#nav-category[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{font-size:.7em;text-shadow:0px 0px 7px rgb(247,72,199);position:absolute;display:flex;flex-direction:row;align-items:center}#nav-category[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.9rem .3rem;margin:0 .3rem}#nav-category[_ngcontent-%COMP%]   .hidden-list[_ngcontent-%COMP%]{left:-9999px}#nav-category[_ngcontent-%COMP%]   .visible-list[_ngcontent-%COMP%]{top:9.8%;left:15%;margin:0 3.8rem;z-index:9999}#nav-category[_ngcontent-%COMP%]   .visible-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:.25s}#nav-category[_ngcontent-%COMP%]   .visible-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-radius:10px;box-shadow:var(--hover-shadow-box);-webkit-box-shadow:var(--hover-shadow-box)}#button-close-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;text-shadow:0px 0px 7px rgb(247,72,199)}@media (max-width: 800px){#nav-category[_ngcontent-%COMP%]{font-size:.8em;padding:.9rem}#nav-category[_ngcontent-%COMP%]   .category-list[_ngcontent-%COMP%]{font-size:.7em;display:flex;flex-direction:column}#nav-category[_ngcontent-%COMP%]   .visible-list[_ngcontent-%COMP%]{top:20.7%;left:-8%}}"]})}}return e})(),k=(()=>{class e{constructor(){}ngOnInit(){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-home"]],decls:2,vars:0,template:function(o,i){1&o&&t.nrm(0,"app-nav-category")(1,"router-outlet")},dependencies:[m.n3,$],encapsulation:2})}}return e})();var I=r(1367),g=r(8326);let B=(()=>{class e{constructor(n,o){this.router=n,this.titlesStream=o,this.searchTerm=""}ngOnInit(){}search(){this.searchTerm&&(this.titlesStream.getSearchBar(this.searchTerm),this.router.navigateByUrl("home/results/"+this.searchTerm))}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(m.Ix),t.rXU(u.h))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-search-bar"]],decls:4,vars:1,consts:[["id","search-bar",1,"d-flex","justify-content-between","text-light"],["type","search","placeholder","Cerca film da guardare",1,"text-light","me-3","bg-none",3,"change","ngModelChange","ngModel"],["type","button",1,"text-light","bg-none",3,"click"]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"input",1),t.bIt("change",function(){return i.search()}),t.mxI("ngModelChange",function(p){return t.DH7(i.searchTerm,p)||(i.searchTerm=p),p}),t.k0s(),t.j41(2,"button",2),t.bIt("click",function(){return i.search()}),t.EFF(3,"Cerca"),t.k0s()()),2&o&&(t.R7$(),t.R50("ngModel",i.searchTerm))},dependencies:[g.me,g.BC,g.vS],styles:["#search-bar[_ngcontent-%COMP%]{border-radius:10px;border:none;padding:.6rem 3rem;box-shadow:var(--hover-shadow-box-soft)}#search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none}#search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}#search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-shadow:0px 0px 7px rgb(247,72,199);border:none;font-size:1.1em}@media (max-width: 600px){#search-bar[_ngcontent-%COMP%]{padding:8px 1.5rem}#search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.5em}}"]})}}return e})();const G=["containerToScroll"],E=()=>({operation:"createView",conditionMode:"standard",width:600}),N=()=>({label:"previous",classes:"position-absolute z-index-strong subsection-category-scroll-left gradient-bg p-3"}),z=()=>({label:"next",classes:"position-absolute z-index-strong subsection-category-scroll-right gradient-bg p-3"});function V(e,a){if(1&e){const n=t.RV6();t.j41(0,"div")(1,"app-custom-button",9),t.bIt("callFnFromOutside",function(){t.eBV(n);const i=t.XpG().index,s=t.XpG();return t.Njj(s.scrollContainer("left",i))}),t.k0s(),t.j41(2,"app-custom-button",9),t.bIt("callFnFromOutside",function(){t.eBV(n);const i=t.XpG().index,s=t.XpG();return t.Njj(s.scrollContainer("right",i))}),t.k0s()()}2&e&&(t.R7$(),t.Y8G("customDataButton",t.lJ4(2,N)),t.R7$(),t.Y8G("customDataButton",t.lJ4(3,z)))}function Y(e,a){if(1&e&&(t.qex(0),t.nrm(1,"app-title-card",11),t.bVm()),2&e){const n=a.$implicit;t.R7$(),t.Y8G("movie",n)}}function X(e,a){if(1&e&&(t.j41(0,"div",10,1),t.DNE(2,Y,2,1,"ng-container",5),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(2),t.Y8G("ngForOf",n.films)}}function U(e,a){1&e&&(t.j41(0,"p",12),t.EFF(1,"There is no movie in this section!"),t.k0s())}function W(e,a){if(1&e&&(t.qex(0),t.j41(1,"p"),t.EFF(2),t.k0s(),t.j41(3,"div",6),t.DNE(4,V,3,4,"div",7)(5,X,3,1,"div",8),t.k0s(),t.DNE(6,U,2,0,"ng-template",null,0,t.C5r),t.bVm()),2&e){const n=a.$implicit,o=t.sdS(7);t.R7$(2),t.JRh(n.label),t.R7$(2),t.Y8G("appResize",t.lJ4(4,E)),t.R7$(),t.Y8G("ngIf",n.films.length>0)("ngIfElse",o)}}let c=(()=>{class e{constructor(n,o,i){this.route=n,this.titlesService=o,this.loginService=i,this.sectionTitle="",this.titles=[],this.areVisible=!0,this.subCategories=[{label:"Visti di recente",films:[]},{label:"Pi\xf9 visti",films:[]},{label:"Nuove uscite",films:[]},{label:"Favourite movies",films:[]}]}ngOnInit(){this.route.params.subscribe(n=>{this.sectionTitle=n.category,this.titles=this.titlesService.getSpecificCategoryFilm(n.category)}),this.filterFilms("mostWatched"),this.filterFilms("newEntry"),this.filterFilms("recentlySeen"),this.filterFilms("favourite")}filterFilms(n){switch(n){case"mostWatched":this.subCategories[1].films=this.titles.filter(s=>s.numberOfStream>=3e3);break;case"newEntry":const o=(new Date).getFullYear();this.subCategories[2].films=this.titles.filter(s=>Number(s.anno)===o);break;case"recentlySeen":this.subCategories[0].films=this.titles.filter(s=>{if(this.generateRandomLastWatchFilm(s),"never"===s.lastWatch)return!1;const p=new Date;return p.setDate((new Date).getDate()-7),new Date(s.lastWatch)>=p});break;case"favourite":const i=this.loginService.currentUser$.getValue();console.log(i),this.subCategories[3].films=i.favouriteFilms}}scrollContainer(n,o){"right"===n&&(this.containersToScroll.toArray()[o].nativeElement.scrollLeft+=300),"left"===n&&(this.containersToScroll.toArray()[o].nativeElement.scrollLeft-=300)}generateRandomLastWatchFilm(n){if(n.id>=3e5){const o=new Date,i=Math.floor(Math.max(1,7*Math.random()));o.setDate(o.getDate()-i);const s=`${o.getFullYear()}/${o.getMonth()+1}/${o.getDate()}`;n.lastWatch=s}}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(m.nX),t.rXU(u.h),t.rXU(I.H))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-subsection-category"]],viewQuery:function(o,i){if(1&o&&t.GBs(G,5),2&o){let s;t.mGM(s=t.lsd())&&(i.containersToScroll=s)}},decls:6,vars:2,consts:[["noMovie",""],["containerToScroll",""],["id","section-category",1,""],[1,"d-flex","justify-content-between","mt-2","gap-3"],[1,"text-center","ms-4","active-link"],[4,"ngFor","ngForOf"],[1,"position-relative"],[4,"appResize"],["class","d-flex title-container",4,"ngIf","ngIfElse"],[3,"callFnFromOutside","customDataButton"],[1,"d-flex","title-container"],["app-title-card","",3,"movie"],[1,"d-flex","justify-content-center"]],template:function(o,i){1&o&&(t.j41(0,"div",2)(1,"div",3)(2,"p",4),t.EFF(3),t.k0s(),t.nrm(4,"app-search-bar"),t.k0s(),t.DNE(5,W,8,5,"ng-container",5),t.k0s()),2&o&&(t.R7$(3),t.JRh(i.sectionTitle),t.R7$(2),t.Y8G("ngForOf",i.subCategories))},dependencies:[l.Sq,l.bT,d.z,_.c,f,B],styles:["#section-category[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-shadow:var(--text-shadow);font-size:2em;padding:.3rem 1rem}#section-category[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{overflow-x:scroll;scrollbar-width:none}#section-category[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}@media (max-width: 600px){#section-category[_ngcontent-%COMP%]{font-size:.6em}}"]})}}return e})();const H=[{path:"",component:k,children:[{path:":category",component:c},{path:":category",component:c},{path:":category",component:c},{path:":category",component:c},{path:":category",component:c},{path:":category",component:c},{path:":category",component:c},{path:":category",component:c},{path:"results/:searchTerm",component:T}],canActivate:[C.q]}];let J=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[m.iI.forChild(H),m.iI]})}}return e})();var L=r(4367);let A=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[l.MD,J,L.j,g.YN]})}}return e})()}}]);